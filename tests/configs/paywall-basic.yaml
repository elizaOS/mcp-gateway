# Basic paywall configuration example
name: "Paywall Test Gateway"
version: "1.0.0"
description: "Test gateway with basic paywall enforcement"

servers:
  # Server with paywall enabled and per-tool pricing
  paywall-server:
    enabled: true
    transport:
      type: stdio
      command: echo
      args: ["mock-paywall-server"]
    paywall:
      enabled: true
      wallet:
        type: evm
        network: base-sepolia
        privateKeyEnv: TEST_PAYWALL_PRIVATE_KEY
      maxValueMicroUSDC: "100000"  # 0.10 USDC max per request
      pricing:
        defaultPriceMicroUSDC: "1000"  # 0.001 USDC default
        perTool:
          expensive-tool: "5000"   # 0.005 USDC
          premium-tool: "10000"    # 0.01 USDC
          free-tool: "0"           # Free tool
        perResource:
          "file:///premium-data.json": "2000"  # 0.002 USDC
          "file:///expensive-report.pdf": "8000"  # 0.008 USDC
        perPrompt:
          premium-prompt: "3000"   # 0.003 USDC
          expert-analysis: "7000"  # 0.007 USDC
      policy:
        freeList: true           # Allow listing tools/resources/prompts for free
        requireForCalls: true    # Require payment for actual calls

  # Free server for comparison
  free-server:
    enabled: true
    transport:
      type: stdio
      command: echo
      args: ["mock-free-server"]
    # No paywall config - completely free

settings:
  enableToolConflictResolution: true
  enableResourceConflictResolution: true
  enablePromptConflictResolution: true
  logLevel: info
  maxConcurrentConnections: 10
  healthCheckInterval: 60000
