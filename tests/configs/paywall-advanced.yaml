# Advanced paywall configuration with multiple servers and different pricing strategies
name: "Advanced Paywall Gateway"
version: "1.0.0"
description: "Advanced paywall configuration with multiple pricing strategies"

servers:
  # High-value AI service with expensive tools
  ai-premium:
    enabled: true
    namespace: "ai"
    transport:
      type: stdio
      command: echo
      args: ["mock-ai-server"]
    paywall:
      enabled: true
      wallet:
        type: evm
        network: base
        privateKeyEnv: AI_PREMIUM_PRIVATE_KEY
      maxValueMicroUSDC: "500000"  # 0.50 USDC max per request
      pricing:
        defaultPriceMicroUSDC: "10000"  # 0.01 USDC default
        perTool:
          gpt4-analysis: "50000"      # 0.05 USDC
          image-generation: "25000"   # 0.025 USDC
          code-review: "30000"        # 0.03 USDC
          translation: "5000"         # 0.005 USDC
        perResource:
          "model://gpt-4": "100000"           # 0.10 USDC
          "model://claude-3-opus": "80000"    # 0.08 USDC
          "model://dall-e-3": "40000"         # 0.04 USDC
        perPrompt:
          expert-prompt: "15000"      # 0.015 USDC
          creative-prompt: "8000"     # 0.008 USDC
      policy:
        freeList: true
        requireForCalls: true

  # Data service with resource-based pricing
  data-premium:
    enabled: true
    namespace: "data"
    transport:
      type: stdio
      command: echo
      args: ["mock-data-server"]
    paywall:
      enabled: true
      wallet:
        type: evm
        network: base-sepolia
        privateKeyEnv: DATA_PREMIUM_PRIVATE_KEY
      maxValueMicroUSDC: "200000"  # 0.20 USDC max per request
      pricing:
        defaultPriceMicroUSDC: "2000"  # 0.002 USDC default
        perTool:
          fetch-data: "1000"          # 0.001 USDC
          analyze-data: "5000"        # 0.005 USDC
          export-data: "3000"         # 0.003 USDC
        perResource:
          "api://financial-data": "20000"     # 0.02 USDC
          "api://market-data": "15000"        # 0.015 USDC
          "api://weather-data": "1000"        # 0.001 USDC
          "file:///premium-dataset.csv": "50000"  # 0.05 USDC
      policy:
        freeList: true
        requireForCalls: true

  # Utility service with flat pricing
  utils-paid:
    enabled: true
    namespace: "utils"
    transport:
      type: stdio
      command: echo
      args: ["mock-utils-server"]
    paywall:
      enabled: true
      wallet:
        type: evm
        network: base-sepolia
        privateKeyEnv: UTILS_PRIVATE_KEY
      maxValueMicroUSDC: "50000"  # 0.05 USDC max per request
      pricing:
        defaultPriceMicroUSDC: "500"  # 0.0005 USDC - very cheap
        # No per-item pricing - everything uses default
      policy:
        freeList: true
        requireForCalls: true

  # Free development tools
  dev-tools:
    enabled: true
    namespace: "dev"
    transport:
      type: stdio
      command: echo
      args: ["mock-dev-server"]
    # No paywall - completely free for development

settings:
  enableToolConflictResolution: true
  enableResourceConflictResolution: true
  enablePromptConflictResolution: true
  logLevel: debug
  maxConcurrentConnections: 20
  healthCheckInterval: 30000
